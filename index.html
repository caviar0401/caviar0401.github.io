<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>AI 雲端媽祖</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <div class="app">
    <!-- Top brand -->
    <header class="topbar">
      <div class="brand">
        <span class="spark">✧</span>
        <span class="brandName">AI 雲端媽祖</span>
      </div>
      <div class="pageTitle" id="pageTitle">線上靈籤解惑</div>
      <div class="topLine"></div>
    </header>

    <!-- Pages -->
    <main class="main">

      <!-- TAB 1: Home / 求籤 -->
      <section class="page" data-page="home">
        <div class="panel">
          <div class="panelHeader">
            <div class="panelTitle">稟報疏文</div>
            <div class="panelDivider"></div>
          </div>

        <div class="fieldLabel" style="display: flex; gap: 1rem; align-items: center;">
            <label style="display: flex; align-items: center; gap: 0.3rem; cursor: pointer;">
                <input type="radio" name="gender" value="male" checked />
                <span>信男</span>
            </label>
            <label style="display: flex; align-items: center; gap: 0.3rem; cursor: pointer;">
                <input type="radio" name="gender" value="female" />
                <span>信女</span>
            </label>
        </div>
<label class="fieldLabel">姓名 <span class="req">*</span></label>
        <label class="fieldLabel">
          <input class="input" id="nameInput" placeholder="請輸入您的姓名" />

          <label class="fieldLabel">生辰 (年/月/日 時:分)</label>
        <input class="input" type="datetime-local" id="birthInput" style="color-scheme: dark;" />

          <div class="hintCenter">--- 請選擇問事方向 ---</div>

          <div class="grid2">
            <button class="chip" type="button" data-topic="love">
              <div class="chipIcon">♡</div>
              <div class="chipText">良緣感情</div>
            </button>
            <button class="chip" type="button" data-topic="career">
              <div class="chipIcon">🎁</div>
              <div class="chipText">事業前程</div>
            </button>
            <button class="chip" type="button" data-topic="money">
              <div class="chipIcon">💰</div>
              <div class="chipText">財運投資</div>
            </button>
            <button class="chip" type="button" data-topic="health">
              <div class="chipIcon">〰</div>
              <div class="chipText">健康平安</div>
            </button>
          </div>

          <!-- 抽籤區（保留你原本抽籤筒概念，改成暗黑金色） -->
          <div class="drawWrap">
            <div class="jarWrap" aria-label="抽籤筒">
              <div class="sticks" aria-hidden="true">
                <span></span><span></span><span></span><span></span><span></span>
              </div>
              <div class="jar">
                <button id="drawBtn" class="sealBtn" type="button" onclick="validateAndDraw()">開始<br/>抽籤</button>
              </div>
            </div>
            <div class="subNote">✧ 媽祖24小時在線解惑</div>
          </div>
        </div>

        <!-- 結果卡（使用 dialog 彈窗） -->
        <dialog id="resultCard" class="resultCard">
          <button id="closeDialogBtn" class="closeBtn" type="button">✕</button>
          
          <div class="resultSection">
            <div class="sectionTitle">個性分析</div>
            <div class="sectionContent" id="rPersonality">—</div>
          </div>
          <hr/>
          <div class="resultSection">
            <div class="sectionTitle">流年分析</div>
            <div class="sectionContent" id="rYearFortune">—</div>
          </div>
          <hr/>

          <div class="resultTitle" id="rTitle">—</div>
          <div class="resultPoem" id="rPoem">—</div>
          <div class="resultExplain" id="rExplain">—</div>
          
          <br/><br/>
          <div class="resultGift" id="rGift">—</div>

          <div class="rowBtn">
            <button id="againBtn" class="btnPrimary" type="button">再抽一次</button>
            <button id="copyLinkBtn" class="btnGhost" type="button">複製結果連結</button>
          </div>
        </dialog>
      </section>

      <!-- TAB 2: Prizes / 獎品介紹 -->
      <section class="page hidden" data-page="prizes">
        <div class="pageHead"></div>

        <div class="bannerCard">
          <div class="bannerTitle">媽祖賜福・平安零食</div>
          <div class="bannerDesc">所有商品皆過爐加持，食用可保平安順遂</div>
        </div>

        <!-- 商品列表容器（從 API 動態載入） -->
        <div id="productsContainer"></div>
      </section>

      <!-- TAB 3: Author / 作者介紹 -->
      <section class="page hidden" data-page="author">
        <div class="pageHead"></div>

        <div class="teamCard">
          <div class="avatar">🚀</div>
          <div class="teamTitle">雷課探險家</div>
          <div class="teamSub">探索科技與未知的邊界</div>
          <div class="teamDesc">
            致力於將前沿科技與生活場景結合。我們相信技術不只是冰冷的代碼，
            更是傳遞文化與溫度的載體。
          </div>
        </div>

        <div class="teamCard">
          <div class="avatar">💻</div>
          <div class="teamTitle">算命工程師</div>
          <div class="teamSub">用代碼解讀命運，用邏輯推演人生</div>
          <div class="teamDesc">
            白天寫 Code，晚上解盤。擅長結合邏輯思維與傳統命理，為迷惘的人提供八字流年分析與決策建議。不談怪力亂神，只講人生趨勢。
          </div>
        </div>

        <div class="teamCard">
          <div class="teamTitle">✧ 預約 1v1 專屬解盤</div>
          <div class="teamSub">八字排盤・流年運勢・職涯諮詢</div>

          <label class="fieldLabel">電子信箱 (Email)</label>
          <input class="input" id="emailInput" placeholder="example@mail.com" />

          <label class="fieldLabel">LINE ID</label>
          <input class="input" id="lineInput" placeholder="請輸入 LINE ID" />
          <br/><br/><br/>
          <button class="cta" type="button" id="btnPrerequest">✈ 送出預約資訊</button>
          <br/><br/>
          <div class="subNote">送出後將由專人與您聯繫安排時間</div>
        </div>
      </section>

      <!-- TAB 4: Partner / 商家報名 -->
      <section class="page hidden" data-page="partner">
        <div class="pageHead"></div>

        <div class="teamCard">
          <div class="avatar">🏪</div>
          <div class="teamTitle">誠徵結緣夥伴</div>
          <div class="teamDesc">
            歡迎在地優質商家加入，共同推廣平安好物，與媽祖一同賜福。
          </div>
          <br /><br />
          <button class="cta" id="partnerBtn" type="button">✧ 立即前往報名 →</button>
          <br /><br />
          <div class="subNote">（將前往外部表單填寫報名資訊）</div>
        </div>
      </section>

    </main>

    <!-- Bottom Tabs (4) -->
    <nav class="tabs">
      <button class="tab active" data-tab="home" type="button">
        <div class="tabIcon">⌂</div><div class="tabText">首頁求籤</div>
      </button>
      <button class="tab" data-tab="prizes" type="button">
        <div class="tabIcon">🎁</div><div class="tabText">獎品介紹</div>
      </button>
      <button class="tab" data-tab="author" type="button">
        <div class="tabIcon">⍟</div><div class="tabText">作者介紹</div>
      </button>
      <button class="tab" data-tab="partner" type="button">
        <div class="tabIcon">🏪</div><div class="tabText">商家報名</div>
      </button>
    </nav>
  </div>

  <script type="module" src="./app.js"></script>
</body>
</html>
